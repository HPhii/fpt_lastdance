<mvc:View
    controllerName="z.wf.zwfmanagement.controller.Analytics"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:microchart="sap.suite.ui.microchart"
    xmlns:layout="sap.ui.layout"
    xmlns:card="sap.ui.integration.widgets"
>
    <Shell>
        <Page
            title="{i18n>analyticsTitle}"
            showNavButton="true"
            navButtonPress=".onNavBackToDashboard"
        >
            <headerContent>
                <core:Fragment
                    fragmentName="z.wf.zwfmanagement.view.fragments.LanguageSelect"
                    type="XML"
                />
            </headerContent>
            <HBox
                justifyContent="Center"
                width="100%"
            >
                <HeaderContainer
                    id="container2"
                    scroll="false"
                    width="auto"
                >
                    <TileContent footer="Total Open Tasks">
                        <content>
                            <NumericContent
                                class="sapUiSmallMargin"
                                width="auto"
                                valueColor="Neutral"
                                value="{
                                    path: '/WfTasks/$count',
                                    parameters: {
                                        $filter: 'TechnicalStatus eq \'READY\' or TechnicalStatus eq \'RESERVED\''
                                    }
                                }"
                                scale="Open"
                                busy="{= ${/WfTasks/$count} === undefined}"
                                icon="sap-icon://activity-2"
                            />
                        </content>
                    </TileContent>
                    <TileContent footer="Overdue/Critical Tasks">
                        <content>
                            <NumericContent
                                width="auto"
                                valueColor="Error"
                                value="{
                                    path: '/WfTasks/$count',
                                    parameters: {
                                        $filter: 'DaysToDeadline lt 0'
                                    }
                                }"
                                scale="Critical"
                                busy="{= ${/WfTasks/$count} === undefined}"
                                icon="sap-icon://alert"
                            />
                        </content>
                    </TileContent>
                    <TileContent footer="High Priority Tasks">
                        <content>
                            <NumericContent
                                width="auto"
                                valueColor="Critical"
                                value="{
                                    path: '/WfTasks/$count',
                                    parameters: {
                                        $filter: 'Priority eq \'1\''
                                    }
                                }"
                                scale="High"
                                busy="{= ${/WfTasks/$count} === undefined}"
                                icon="sap-icon://high-priority"
                            />
                        </content>
                    </TileContent>
                </HeaderContainer>
            </HBox>
            <Panel>
                <card:Card
                    manifest="./cards/calendarCard/manifest.json"
                    width="400px"
                    height="auto"
                />
            </Panel>
        </Page>
    </Shell>
</mvc:View>
